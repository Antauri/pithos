#
# pithos main configuration
# -------------------------
#
# This file contains the following sections
#   - service
#   - logging
#   - options
#   - keystore
#   - userstore
#   - datastore
 

## service configuration
#
service:
  ip: '127.0.0.1'
  port: 8080
  max-body: '1G'


## logging configuration
logging:
  level: info
  console: true
  files:
    - "/tmp/pithos.log"
# overrides:
#   io.exo.pithos: debug


## global options
options:
#  server-name: 'storage.api.exoscale.ch'
  service-uri: 's3.amazonaws.com' 
  chunksize: '256K'
  maxsize: '10G'
  reporting: true
  server-side-encryption: true
  multipart-upload: true
  masterkey-provisioning: true
  masterkey-access: true
# The master key allows provisinning operations
# when the masterkey-provisioning feature is
# set to true and will allow access to all
# buckets when masterkey-access is set to true
  masterkey:
    access: 'BKIAIOSFODNN7EXAMPLE'
    secret: 'wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY'


## keystore configuration
#
# Keystores associate an access key with
# an organization and secret key.
# 
# They may offer provisioning capacities with the
# masterkey
keystore:
  use: io.exo.pithos.keystore/map->MapKeystore
  keys:
    AKIAIOSFODNN7EXAMPLE:
      tenant: 'pyr@spootnik.org'
      secret: 'wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY'


## userstore
#
# The userstore contains metadata.
userstore:
# A cluster may be defined as a single host definition or as
# a list of host definitions.
#
# A host may be defined as a string, or as a map
# containing at least a 'host' key and an optional
# 'port' key which defaults to 9160.
# 
# Examples:
#
# cluster: 'localhost'
#
# cluster:
#   host: 'localhost'
#   port: 9160
#
# cluster:
#   - 'host1'
#   - 'host2'
#   - host: 'host3'
#     port: 9162
#
  use: io.exo.pithos.store/cassandra-store
  cluster: 'localhost'
  keyspace: 'storage'


## datastore
#
# the datastore cluster contains actual file data
datastore:
  use: io.exo.pithos.store/cassandra-store
  cluster: 'localhost'
  keyspace: 'storage'